import{f as d,g as P,y as E,a as F,o as q,w as v,b as m,C as I,c as $,au as j,G as A,d as H}from"./index-CDflEGxG.js";import{V as J}from"./VContainer-D998_FMu.js";import{V as K,e as O,a as Q}from"./VCard-CtrwYXP2.js";import{V as tt}from"./VForm-CvM4CroX.js";import{V as G}from"./VTextField-0zqftHBU.js";import{V as at}from"./VSelect-CiLYhhBH.js";/* empty css              */import"./transition-Cv0A3pfB.js";import"./VField-Bmblua04.js";import"./index-BE-PR_kN.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-CW5wCxu5.js";import"./scopeId-NAJ7cP3H.js";import"./ssrBoot-ClfBObgd.js";import"./VDivider-83VygTQ1.js";import"./VChip-Ds1ITIBP.js";import"./VSlideGroup-DpSyGH3n.js";const et={key:0,class:"mt-6",style:{height:"600px"}},ot=["src"],k=6378249145e-3,C=1/293.465,L=.9996,yt={__name:"locate",setup(nt){const o=2*C-C*C,h=d(539151.35),M=d(730751.68),f=d(31),_=d(null),W=d(null),V=d(null),g=d(null),z=a=>a*Math.PI/180,x=a=>a*180/Math.PI,N={dx:-92,dy:-88.5,dz:122,scale:1.0015};function D(a,t,e){const s=a-5e5,n=t,c=z((e-1)*6-180+3),r=n/L/(k*(1-o/4-3*o**2/64-5*o**3/256)),i=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),u=r+(3*i/2-27*i**3/32)*Math.sin(2*r)+(21*i**2/16-55*i**4/32)*Math.sin(4*r)+151*i**3/96*Math.sin(6*r),b=o/(1-o)*Math.cos(u)**2,y=Math.tan(u)**2,w=k/Math.sqrt(1-o*Math.sin(u)**2),X=w*(1-o)/(1-o*Math.sin(u)**2),p=s/(w*L),S=u-w*Math.tan(u)/X*(p**2/2-(5+3*y+10*b)*p**4/24+(61+90*y+298*b)*p**6/720),T=c+(p-(1+2*y+b)*p**3/6+(5-2*b+28*y)*p**5/120)/Math.cos(u);return{latDeg:x(S),lonDeg:x(T),latRad:S,lonRad:T}}function R(a,t){const e=k/Math.sqrt(1-o*Math.sin(a)**2),s=0;return{x:(e+s)*Math.cos(a)*Math.cos(t),y:(e+s)*Math.cos(a)*Math.sin(t),z:((1-o)*e+s)*Math.sin(a)}}function U({x:a,y:t,z:e}){const{dx:s,dy:n,dz:c,scale:l}=N;return{x:s+l*a,y:n+l*t,z:c+l*e}}function Y({x:a,y:t,z:e}){const n=.0033528106647474805,c=2*n-n*n,l=Math.sqrt(a**2+t**2),r=Math.atan2(e*6378137,l*(1-n)*6378137),i=Math.atan2(e+c*(1-n)*6378137*Math.sin(r)**3,l-c*6378137*Math.cos(r)**3),u=Math.atan2(t,a);return{lat:x(i),lon:x(u)}}function Z(){const{latDeg:a,lonDeg:t,latRad:e,lonRad:s}=D(h.value,M.value,f.value);_.value=a,W.value=t;const n=R(e,s),c=U(n),{lat:l,lon:r}=Y(c);V.value=l,g.value=r}P([h,M,f],()=>{h.value&&M.value&&f.value&&Z()});const B=E(()=>!V.value||!g.value?"":`https://maps.google.com/maps?q=${V.value},${g.value}&z=18&t=k&output=embed`);return(a,t)=>(q(),F(J,{class:"py-6"},{default:v(()=>[m(K,{class:"pa-6 rounded-xl elevation-5","max-width":"900","mx-auto":""},{default:v(()=>[m(O,{class:"text-h5 font-weight-bold text-center text-primary"},{default:v(()=>t[4]||(t[4]=[I(" Chart Your Location ")])),_:1,__:[4]}),m(Q,null,{default:v(()=>[m(tt,{onSubmit:t[3]||(t[3]=A(()=>{},["prevent"]))},{default:v(()=>[m(G,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),modelModifiers:{number:!0},label:"Easting (m)",type:"number",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"]),m(G,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),modelModifiers:{number:!0},label:"Northing (m)",type:"number",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"]),m(at,{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),items:[31,32,33],label:"UTM Zone",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"])]),_:1}),V.value&&g.value?(q(),$("div",et,[H("iframe",{src:B.value,width:"100%",height:"100%",style:{border:"0","border-radius":"10px"},allowfullscreen:"",loading:"lazy"},null,8,ot)])):j("",!0)]),_:1})]),_:1})]),_:1}))}};export{yt as default};

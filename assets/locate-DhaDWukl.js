import{_ as I,f as d,g as P,h as E,y as F,a as $,o as q,w as v,c as j,au as A,b as i,d as H,C as J,G as K}from"./index-GIn-wyVQ.js";import{V as O}from"./VContainer-C1KEak8G.js";import{V as Q,e as tt,a as at}from"./VCard-ud7YK57B.js";import{V as et}from"./VForm-BEO_rsKX.js";import{V as G}from"./VTextField-B-ZqDR77.js";import{V as ot}from"./VSelect-Ddizx3uk.js";/* empty css              */import"./transition-CxrpfnNz.js";import"./VField-DS5gbsOQ.js";import"./index-3Fak7lMx.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-BkJN5Xtk.js";import"./scopeId-C5UVUWdd.js";import"./ssrBoot-DmSh8y41.js";import"./VDivider-DnRkqBdv.js";import"./VChip-CeUjD_T0.js";import"./VSlideGroup-D4i9p2C2.js";const nt={key:0,class:"map-background"},st=["src"],k=6378249145e-3,w=1/293.465,L=.9996,lt={__name:"locate",setup(rt){const o=2*w-w*w,f=d(539151.35),M=d(730751.68),h=d(31),W=d(null),z=d(null),V=d(null),g=d(null),N={dx:-92,dy:-88.5,dz:122,scale:1},D=a=>a*Math.PI/180,x=a=>a*180/Math.PI;function R(a,t,e){const s=a-5e5,n=t,c=D((e-1)*6-180+3),r=n/L/(k*(1-o/4-3*o**2/64-5*o**3/256)),m=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),u=r+(3*m/2-27*m**3/32)*Math.sin(2*r)+(21*m**2/16-55*m**4/32)*Math.sin(4*r)+151*m**3/96*Math.sin(6*r),b=o/(1-o)*Math.cos(u)**2,_=Math.tan(u)**2,y=k/Math.sqrt(1-o*Math.sin(u)**2),X=y*(1-o)/(1-o*Math.sin(u)**2),p=s/(y*L),S=u-y*Math.tan(u)/X*(p**2/2-(5+3*_+10*b)*p**4/24+(61+90*_+298*b)*p**6/720),T=c+(p-(1+2*_+b)*p**3/6+(5-2*b+28*_)*p**5/120)/Math.cos(u);return{latDeg:x(S),lonDeg:x(T),latRad:S,lonRad:T}}function U(a,t){const e=k/Math.sqrt(1-o*Math.sin(a)**2),s=0;return{x:(e+s)*Math.cos(a)*Math.cos(t),y:(e+s)*Math.cos(a)*Math.sin(t),z:((1-o)*e+s)*Math.sin(a)}}function Y({x:a,y:t,z:e}){const{dx:s,dy:n,dz:c,scale:l}=N;return{x:s+l*a,y:n+l*t,z:c+l*e}}function Z({x:a,y:t,z:e}){const n=.0033528106647474805,c=2*n-n*n,l=Math.sqrt(a**2+t**2),r=Math.atan2(e*6378137,l*(1-n)*6378137),m=Math.atan2(e+c*(1-n)*6378137*Math.sin(r)**3,l-c*6378137*Math.cos(r)**3),u=Math.atan2(t,a);return{lat:x(m),lon:x(u)}}function C(){const{latDeg:a,lonDeg:t,latRad:e,lonRad:s}=R(f.value,M.value,h.value);W.value=a,z.value=t;const n=U(e,s),c=Y(n),{lat:l,lon:r}=Z(c);V.value=l,g.value=r}P([f,M,h],()=>{f.value&&M.value&&h.value&&C()}),E(()=>{C()});const B=F(()=>!V.value||!g.value?"":`https://maps.google.com/maps?q=${V.value},${g.value}&z=18&t=k&output=embed`);return(a,t)=>(q(),$(O,{class:"py-6"},{default:v(()=>[V.value&&g.value?(q(),j("div",nt,[H("iframe",{src:B.value,class:"map-frame",allowfullscreen:"",loading:"lazy"},null,8,st)])):A("",!0),i(Q,{class:"pa-6 rounded-xl elevation-5 map-overlay","max-width":"500","mx-auto":""},{default:v(()=>[i(tt,{class:"text-h5 font-weight-bold text-center text-primary"},{default:v(()=>t[4]||(t[4]=[J(" Chart Your Location ")])),_:1,__:[4]}),i(at,null,{default:v(()=>[i(et,{onSubmit:t[3]||(t[3]=K(()=>{},["prevent"]))},{default:v(()=>[i(G,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),modelModifiers:{number:!0},label:"Easting (m)",type:"number",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"]),i(G,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),modelModifiers:{number:!0},label:"Northing (m)",type:"number",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"]),i(ot,{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=e=>h.value=e),items:[31,32,33],label:"UTM Zone",outlined:"",dense:"",required:"",class:"mb-4"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}},wt=I(lt,[["__scopeId","data-v-35a9c4de"]]);export{wt as default};

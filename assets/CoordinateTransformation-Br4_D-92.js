import{_ as J,f as y,y as K,a as F,o as I,w as V,b as M,C as g,d as f,au as Q,G as $,E as tt,t as w}from"./index-DtCh_-a1.js";import{V as nt}from"./VContainer-D4JNaiBA.js";import{V as ot,e as at,a as et}from"./VCard-BedgFuDC.js";import{V as st}from"./VForm-B2zgZevn.js";import{V as L}from"./VTextField-DRZx9twN.js";import{V as lt}from"./VSelect-mQm-rVFU.js";import{V as rt}from"./VAlert-whjtNbmj.js";/* empty css              */import"./transition-BNk-n6OB.js";import"./VField-d9EAZNeE.js";import"./index-C4-wIkjU.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-BtOsczne.js";import"./scopeId-3jLb4pG4.js";import"./ssrBoot-CFF3Ve-5.js";import"./VDivider-CQNw-FIS.js";import"./VChip-DyoPw2dP.js";import"./VSlideGroup-Bt54ZKvw.js";const ut={__name:"CoordinateTransformation",setup(it){const _=[{label:"Minna Datum (Clarke 1880)",value:"clarke"},{label:"WGS 84",value:"wgs84"}],D={clarke:{a:6378249145e-3,f:1/293.465},wgs84:{a:6378137,f:1/298.257223563}},O={dx:-92,dy:-93,dz:122,rx:0,ry:0,rz:0,scale:1},z=y(null),U=y(null),k=y(null),q=y("clarke"),E=y(null),G=y(null),Z=K(()=>q.value==="clarke"?"WGS 84":"Minna Datum (Clarke 1880)"),b=o=>o*Math.PI/180,N=o=>o*180/Math.PI,S=o=>2*o-o*o;function P(o,n,e,d){const{a:l,f:i}=D[d],t=S(i),a=.9996,r=o-5e5,u=n,v=b((e-1)*6-180+3),c=u/a/(l*(1-t/4-3*t**2/64-5*t**3/256)),m=(1-Math.sqrt(1-t))/(1+Math.sqrt(1-t)),s=c+(3*m/2-27*m**3/32)*Math.sin(2*c)+(21*m**2/16-55*m**4/32)*Math.sin(4*c)+151*m**3/96*Math.sin(6*c),p=t/(1-t)*Math.cos(s)**2,x=Math.tan(s)**2,C=l/Math.sqrt(1-t*Math.sin(s)**2),R=C*(1-t)/(1-t*Math.sin(s)**2),T=r/(C*a),j=s-C*Math.tan(s)/R*(T**2/2-(5+3*x+10*p)*T**4/24+(61+90*x+298*p)*T**6/720),H=v+(T-(1+2*x+p)*T**3/6+(5-2*p+28*x)*T**5/120)/Math.cos(s);return{lat:N(j),lon:N(H)}}function W(o,n,e){const{a:d,f:l}=D[e],i=S(l),t=b(o),a=b(n),r=d/Math.sqrt(1-i*Math.sin(t)**2),u=0;return{x:(r+u)*Math.cos(t)*Math.cos(a),y:(r+u)*Math.cos(t)*Math.sin(a),z:((1-i)*r+u)*Math.sin(t)}}function X({x:o,y:n,z:e},d){const{dx:l,dy:i,dz:t,rx:a,ry:r,rz:u,scale:v}=O,h=v;if(d==="forward")return{x:l+h*(o+u*n-r*e),y:i+h*(-u*o+n+a*e),z:t+h*(r*o-a*n+e)};{const c=o-l,m=n-i,s=e-t,p=1/h;return{x:p*(c-u*m+r*s),y:p*(u*c+m-a*s),z:p*(-r*c+a*m+s)}}}function Y({x:o,y:n,z:e},d){const{a:l,f:i}=D[d],t=S(i),a=Math.sqrt(o**2+n**2),r=Math.atan2(e*l,a*(1-i)*l),u=Math.atan2(e+t/(1-t)*(1-i)*l*Math.sin(r)**3,a-t*l*Math.cos(r)**3),v=Math.atan2(n,o);return{lat:N(u),lon:N(v)}}function A(o,n,e,d){const{a:l,f:i}=D[e],t=S(i),a=b(o),r=b(n),u=b((d-1)*6-180+3),v=.9996,h=l/Math.sqrt(1-t*Math.sin(a)**2),c=Math.tan(a)**2,m=t/(1-t)*Math.cos(a)**2,s=(r-u)*Math.cos(a),p=l*((1-t/4-3*t**2/64-5*t**3/256)*a-(3*t/8+3*t**2/32+45*t**3/1024)*Math.sin(2*a)+(15*t**2/256+45*t**3/1024)*Math.sin(4*a)-35*t**3/3072*Math.sin(6*a)),x=v*h*(s+(1-c+m)*s**3/6+(5-18*c+c**2+72*m)*s**5/120)+5e5,C=v*(p+h*Math.tan(a)*(s**2/2+(5-c+9*m+4*m**2)*s**4/24+(61-58*c+c**2+600*m)*s**6/720));return{easting:x,northing:C}}function B(){const o=q.value,n=o==="clarke"?"wgs84":"clarke",{lat:e,lon:d}=P(z.value,U.value,k.value,o),l=W(e,d,o),i=X(l,o==="clarke"?"forward":"inverse"),{lat:t,lon:a}=Y(i,n),{easting:r,northing:u}=A(t,a,n,k.value);E.value=r,G.value=u}return(o,n)=>(I(),F(nt,{class:"py-10"},{default:V(()=>[M(ot,{class:"mx-auto pa-6 rounded-xl elevation-6","max-width":"600"},{default:V(()=>[M(at,{class:"text-h5 font-weight-bold text-center text-primary"},{default:V(()=>n[4]||(n[4]=[g(" UTM Coordinate Transformation "),f("br",null,null,-1),g(" (Minna Datum â†” WGS 84) ")])),_:1,__:[4]}),M(et,null,{default:V(()=>[M(st,{class:"mt-4",onSubmit:$(B,["prevent"])},{default:V(()=>[M(L,{modelValue:U.value,"onUpdate:modelValue":n[0]||(n[0]=e=>U.value=e),modelModifiers:{number:!0},label:"Northing (m)",type:"number",outlined:"",dense:"",class:"mb-4",required:""},null,8,["modelValue"]),M(L,{modelValue:z.value,"onUpdate:modelValue":n[1]||(n[1]=e=>z.value=e),modelModifiers:{number:!0},label:"Easting (m)",type:"number",outlined:"",dense:"",class:"mb-4",required:""},null,8,["modelValue"]),M(L,{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=e=>k.value=e),modelModifiers:{number:!0},label:"UTM Zone",type:"number",outlined:"",dense:"",class:"mb-4",required:""},null,8,["modelValue"]),M(lt,{modelValue:q.value,"onUpdate:modelValue":n[3]||(n[3]=e=>q.value=e),items:_,"item-title":"label","item-value":"value",label:"Input Datum",outlined:"",dense:"",class:"mb-4",required:""},null,8,["modelValue"]),M(tt,{class:"mt-4",color:"primary",block:"",onClick:B,elevation:"2"},{default:V(()=>[g(" Transform to "+w(Z.value),1)]),_:1})]),_:1}),E.value!==null?(I(),F(rt,{key:0,type:"success",class:"mt-6",border:"start",variant:"tonal"},{default:V(()=>[f("p",null,[n[5]||(n[5]=f("strong",null,"Transformed Datum:",-1)),g(" "+w(Z.value),1)]),f("p",null,[n[6]||(n[6]=f("strong",null,"Output Easting:",-1)),g(" "+w(E.value.toFixed(3))+" m",1)]),f("p",null,[n[7]||(n[7]=f("strong",null,"Output Northing:",-1)),g(" "+w(G.value.toFixed(3))+" m",1)]),f("p",null,[n[8]||(n[8]=f("strong",null,"Zone:",-1)),g(" "+w(k.value),1)])]),_:1})):Q("",!0)]),_:1})]),_:1})]),_:1}))}},qt=J(ut,[["__scopeId","data-v-130ea2e9"]]);export{qt as default};

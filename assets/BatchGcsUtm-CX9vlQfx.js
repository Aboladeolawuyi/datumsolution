import{I as Z,J as q,L as me,K as le,ae,y as P,av as Q,f as N,g as ve,R as J,aw as ne,b as t,a2 as w,F as T,a4 as he,ax as ye,aq as Ve,a1 as X,ar as ge,_ as be,a as Ce,o as D,w as p,C as Y,E as _e,d as h,c as ee,B as ke,t as $}from"./index-DtCh_-a1.js";import{V as xe}from"./VContainer-D4JNaiBA.js";import{V as Ie,e as Re,a as Se}from"./VCard-BedgFuDC.js";import{V as L,a as O}from"./VRow-j_IUI0AS.js";import{u as Pe,V as j,f as Fe,m as we,a as oe,b as Be,c as Me,d as E,e as ze,g as Ae,h as Ue,i as $e}from"./VField-d9EAZNeE.js";import{f as Ne}from"./forwardRefs-DWGaNmQL.js";import{V as Te}from"./VChip-DyoPw2dP.js";import{V as Ge}from"./VTable-Caalq1r8.js";/* empty css              */import"./transition-BNk-n6OB.js";import"./index-C4-wIkjU.js";import"./VSlideGroup-Bt54ZKvw.js";const Le=q({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...oe({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>ae(e).every(v=>v!=null&&typeof v=="object")},...we({clearable:!0})},"VFileInput"),Oe=Z()({name:"VFileInput",inheritAttrs:!1,props:Le(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:g,emit:V,slots:r}=v;const{t:F}=me(),i=le(e,"modelValue",e.modelValue,l=>ae(l),l=>!e.multiple&&Array.isArray(l)?l[0]:l),{isFocused:x,focus:B,blur:d}=Pe(e),o=P(()=>typeof e.showSize!="boolean"?e.showSize:void 0),n=P(()=>(i.value??[]).reduce((l,s)=>{let{size:z=0}=s;return l+z},0)),f=P(()=>Q(n.value,o.value)),u=P(()=>(i.value??[]).map(l=>{const{name:s="",size:z=0}=l;return e.showSize?`${s} (${Q(z,o.value)})`:s})),m=P(()=>{var s;const l=((s=i.value)==null?void 0:s.length)??0;return e.showSize?F(e.counterSizeString,l,f.value):F(e.counterString,l)}),c=N(),I=N(),a=N(),R=P(()=>x.value||e.active),_=P(()=>["plain","underlined"].includes(e.variant));function b(){var l;a.value!==document.activeElement&&((l=a.value)==null||l.focus()),x.value||B()}function y(l){var s;(s=a.value)==null||s.click()}function k(l){V("mousedown:control",l)}function C(l){var s;(s=a.value)==null||s.click(),V("click:control",l)}function M(l){l.stopPropagation(),b(),he(()=>{i.value=[],ye(e["onClick:clear"],l)})}return ve(i,l=>{(!Array.isArray(l)||!l.length)&&a.value&&(a.value.value="")}),J(()=>{const l=!!(r.counter||e.counter),s=!!(l||r.details),[z,se]=ne(g),{modelValue:Qe,...ie}=j.filterProps(e),ue=Fe(e);return t(j,w({ref:c,modelValue:i.value,"onUpdate:modelValue":A=>i.value=A,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":_.value},e.class],style:e.style,"onClick:prepend":y},z,ie,{centerAffix:!_.value,focused:x.value}),{...r,default:A=>{let{id:G,isDisabled:U,isDirty:K,isReadonly:W,isValid:re}=A;return t(Me,w({ref:I,"prepend-icon":e.prependIcon,onMousedown:k,onClick:C,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ue,{id:G.value,active:R.value||K.value,dirty:K.value||e.dirty,disabled:U.value,focused:x.value,error:re.value===!1}),{...r,default:ce=>{var H;let{props:{class:de,...fe}}=ce;return t(T,null,[t("input",w({ref:a,type:"file",readonly:W.value,disabled:U.value,multiple:e.multiple,name:e.name,onClick:S=>{S.stopPropagation(),W.value&&S.preventDefault(),b()},onChange:S=>{if(!S.target)return;const pe=S.target;i.value=[...pe.files??[]]},onFocus:b,onBlur:d},fe,se),null),t("div",{class:de},[!!((H=i.value)!=null&&H.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:u.value,totalBytes:n.value,totalBytesReadable:f.value}):e.chips?u.value.map(S=>t(Te,{key:S,size:"small",text:S},null)):u.value.join(", "))])])}})},details:s?A=>{var G,U;return t(T,null,[(G=r.details)==null?void 0:G.call(r,A),l&&t(T,null,[t("span",null,null),t(Be,{active:!!((U=i.value)!=null&&U.length),value:m.value,disabled:e.disabled},r.counter)])])}:void 0})}),Ne({},c,I,a)}}),je=q({...ze({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),te=Z()({name:"VRadio",props:je(),setup(e,v){let{slots:g}=v;return J(()=>{const V=E.filterProps(e);return t(E,w(V,{class:["v-radio",e.class],style:e.style,type:"radio"}),g)}),{}}}),De=q({height:{type:[Number,String],default:"auto"},...oe(),...ge(Ae(),["multiple"]),trueIcon:{type:X,default:"$radioOn"},falseIcon:{type:X,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Ee=Z()({name:"VRadioGroup",inheritAttrs:!1,props:De(),emits:{"update:modelValue":e=>!0},setup(e,v){let{attrs:g,slots:V}=v;const r=Ve(),F=P(()=>e.id||`radio-group-${r}`),i=le(e,"modelValue");return J(()=>{const[x,B]=ne(g),d=j.filterProps(e),o=E.filterProps(e),n=V.label?V.label({label:e.label,props:{for:F.value}}):e.label;return t(j,w({class:["v-radio-group",e.class],style:e.style},x,d,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,id:F.value}),{...V,default:f=>{let{id:u,messagesId:m,isDisabled:c,isReadonly:I}=f;return t(T,null,[n&&t(Ue,{id:u.value},{default:()=>[n]}),t($e,w(o,{id:u.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:c.value,readonly:I.value,"aria-labelledby":n?u.value:void 0,multiple:!1},B,{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a}),V)])}})}),{}}}),Ze={class:"px-2 py-1"},qe={class:"px-2 py-1"},Je={class:"px-2 py-1"},Ke={class:"px-2 py-1"},We={class:"px-2 py-1"},He={__name:"BatchGcsUtm",setup(e){const v=N([]),g=N("clarke"),V={clarke:{a:6378249145e-3,b:635651487e-2},wgs84:{a:6378137,b:63567523142e-4}},r=d=>d*Math.PI/180;function F(d){return Math.floor((d+180)/6)+1}function i(d,o,n,f){const u=F(o),m=r((u-1)*6-180+3),c=r(d),I=r(o),a=(n**2-f**2)/n**2,R=a/(1-a),_=.9996,b=n/Math.sqrt(1-a*Math.sin(c)**2),y=Math.tan(c)**2,k=R*Math.cos(c)**2,C=(I-m)*Math.cos(c),M=n*((1-a/4-3*a**2/64-5*a**3/256)*c-(3*a/8+3*a**2/32+45*a**3/1024)*Math.sin(2*c)+(15*a**2/256+45*a**3/1024)*Math.sin(4*c)-35*a**3/3072*Math.sin(6*c)),l=_*b*(C+(1-y+k)*C**3/6+(5-18*y+y**2+72*k-58*R)*C**5/120)+5e5;let s=_*(M+b*Math.tan(c)*(C**2/2+(5-y+9*k+4*k**2)*C**4/24+(61-58*y+y**2+600*k-330*R)*C**6/720));return d<0&&(s+=1e7),{easting:l,northing:s,zone:u}}const x=d=>{const o=d.target.files[0];if(!o)return;const n=new FileReader;n.onload=f=>{const u=f.target.result.trim().split(`
`),m=[],{a:c,b:I}=V[g.value];for(let a=1;a<u.length;a++){const R=u[a].trim();if(!R)continue;const _=R.split(",");if(_.length<2)continue;const b=parseFloat(_[0]),y=parseFloat(_[1]);if(isNaN(b)||isNaN(y))continue;const{easting:k,northing:C,zone:M}=i(b,y,c,I);m.push({lat:b,lon:y,zone:M,easting:k,northing:C})}v.value=m},n.readAsText(o)},B=()=>{const d=`latitude,longitude,zone,northing,easting
`,o=v.value.map(m=>`${m.lat},${m.lon},${m.zone},${m.northing.toFixed(3)},${m.easting.toFixed(3)}`).join(`
`),n=new Blob([d+o],{type:"text/csv"}),f=URL.createObjectURL(n),u=document.createElement("a");u.href=f,u.download=`utm_results_${g.value}.csv`,u.click(),URL.revokeObjectURL(f)};return(d,o)=>(D(),Ce(xe,{class:"py-10"},{default:p(()=>[t(Ie,{class:"mx-auto pa-6 rounded-xl elevation-5","max-width":"800"},{default:p(()=>[t(Re,{class:"text-h5 font-weight-bold text-center text-primary"},{default:p(()=>o[1]||(o[1]=[Y(" Batch Geo â†’ UTM (Auto Zone) ")])),_:1,__:[1]}),t(Se,null,{default:p(()=>[t(L,{justify:"center",class:"mb-4"},{default:p(()=>[t(O,{cols:"12",sm:"6"},{default:p(()=>[t(Ee,{modelValue:g.value,"onUpdate:modelValue":o[0]||(o[0]=n=>g.value=n),row:""},{default:p(()=>[t(te,{label:"Clarke 1880",value:"clarke"}),t(te,{label:"WGS 84",value:"wgs84"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(L,{class:"mb-4"},{default:p(()=>[t(O,{cols:"12"},{default:p(()=>[t(Oe,{label:"Upload CSV File",accept:".csv","show-size":"",onChange:x,outlined:"",dense:""})]),_:1})]),_:1}),t(L,null,{default:p(()=>[t(O,{cols:"12"},{default:p(()=>[t(_e,{color:"primary",block:"",disabled:v.value.length===0,onClick:B},{default:p(()=>o[2]||(o[2]=[Y(" Download Results as CSV ")])),_:1,__:[2]},8,["disabled"])]),_:1})]),_:1}),t(L,{class:"mt-6"},{default:p(()=>[t(O,{cols:"12"},{default:p(()=>[t(Ge,{dense:"",class:"rounded border"},{default:p(()=>[o[3]||(o[3]=h("thead",{class:"bg-primary text-white"},[h("tr",null,[h("th",{class:"text-left px-2 py-1"},"Latitude"),h("th",{class:"text-left px-2 py-1"},"Longitude"),h("th",{class:"text-left px-2 py-1"},"Zone"),h("th",{class:"text-left px-2 py-1"},"Easting"),h("th",{class:"text-left px-2 py-1"},"Northing")])],-1)),h("tbody",null,[(D(!0),ee(T,null,ke(v.value,(n,f)=>(D(),ee("tr",{key:f},[h("td",Ze,$(n.lat),1),h("td",qe,$(n.lon),1),h("td",Je,$(n.zone),1),h("td",Ke,$(n.easting.toFixed(3)),1),h("td",We,$(n.northing.toFixed(3)),1)]))),128))])]),_:1,__:[3]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ct=be(He,[["__scopeId","data-v-71823d8a"]]);export{ct as default};
